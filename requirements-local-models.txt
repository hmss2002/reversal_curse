# 这份 requirements 用于“本地开源模型 + LoRA 复现实验 1”。
#
# 背景：原仓库把 transformers 固定在 4.28.1，无法稳定加载 Llama-3.2 / Qwen3 / Gemma 3。
# 因此这里单独提供一份依赖清单，避免改动原有实验（OpenAI API 路径）。
#
# 建议：在 conda 环境 reversalcurse 中执行：
#   pip install -r requirements-local-models.txt

# 重要（Gemma 3 必需）：
# - 你这台机器是 V100 + Driver 535（支持 CUDA 11.8/12.x），Gemma 3 需要较新的 transformers，
#   而新 transformers 会要求 torch>=2.2。
# - 由于 requirements.txt 无法指定 PyTorch 的 CUDA wheel 索引，建议你先执行：
#   pip install -U torch==2.2.2 torchvision==0.17.2 torchaudio==2.2.2 --index-url https://download.pytorch.org/whl/cu118

# 新模型支持（Gemma 3 需要更新版）
transformers>=4.57.0
huggingface_hub>=0.34.0
safetensors>=0.4.3

# LoRA
peft>=0.13.0

# 训练与数据
accelerate>=0.22.0
datasets>=2.11.0

# 分词（Llama / SentencePiece 模型）
sentencepiece>=0.1.99

# 评测输出
pandas>=1.5.3
tqdm>=4.67.0
packaging>=25.0
